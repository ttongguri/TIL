# 후위 표기법 (Postfix Notation)

## 개념
- **후위 표기법**: 연산자를 피연산자 뒤에 쓰는 표기법
- **역폴란드 표기법(RPN, Reverse Polish Notation)**이라고도 함
- 일반적인 **중위 표기법(Infix)**과 반대

## 표기법 비교

| 중위 표기법 (Infix) | 후위 표기법 (Postfix) |
|-------------------|---------------------|
| `2 + 3`           | `2 3 +`             |
| `2 + 3 * 4`       | `2 3 4 * +`         |
| `(2 + 3) * 4`     | `2 3 + 4 *`         |
| `2 * (3 + 4)`     | `2 3 4 + *`         |

## 왜 사용하는가?

### 1. 괄호가 불필요
- 연산 우선순위가 자연스럽게 표현됨
- 괄호 없이도 명확한 계산 순서

### 2. 스택을 이용한 간단한 계산
- 왼쪽부터 순차적으로 처리
- 복잡한 파싱 알고리즘이 불필요

### 3. 컴파일러/인터프리터에서 효율적
- 수식 평가가 O(n) 시간복잡도
- 메모리 사용량 예측 가능

## 계산 방법 (스택 이용)

```
후위 표기법: 2 3 4 * +

1. 숫자면 스택에 push
2. 연산자면 스택에서 2개 pop해서 계산 후 결과를 push

단계별 과정:
[2]           # 2 push
[2, 3]        # 3 push  
[2, 3, 4]     # 4 push
[2, 12]       # * 연산: 3 * 4 = 12
[14]          # + 연산: 2 + 12 = 14
```

## 중위 → 후위 변환 (Shunting Yard 알고리즘)

### 규칙
1. 숫자는 바로 출력
2. 연산자는 우선순위 확인 후 스택 처리
3. 여는 괄호는 스택에 push
4. 닫는 괄호는 여는 괄호까지 모든 연산자 pop

### 예시: `2 + 3 * 4` → `2 3 4 * +`

| 입력 | 출력 | 스택 | 설명 |
|------|------|------|------|
| 2    | 2    | []   | 숫자 출력 |
| +    | 2    | [+]  | 연산자 스택에 |
| 3    | 2 3  | [+]  | 숫자 출력 |
| *    | 2 3  | [+, *] | * 우선순위 높음 |
| 4    | 2 3 4| [+, *] | 숫자 출력 |
| 끝   | 2 3 4 * + | [] | 스택 비우기 |

## 실제 사용 사례

- **HP 계산기**: 전통적으로 RPN 사용
- **컴파일러**: 수식 평가 단계
- **스택 기반 가상머신**: JVM, .NET CLR
- **포스트스크립트**: 프린터 언어

## 장단점

### 장점
- 괄호 불필요
- 스택으로 간단한 구현
- 왼쪽에서 오른쪽으로 일관된 처리
- 연산 우선순위 오류 방지

### 단점
- 사람이 읽기 어려움
- 익숙하지 않은 표기법
- 디버깅 시 직관적이지 않음

## 코드 예시 (JavaScript)

```javascript
function evaluatePostfix(expression) {
    const stack = [];
    const tokens = expression.split(' ');
    
    for (const token of tokens) {
        if (!isNaN(token)) {
            stack.push(Number(token));
        } else {
            const b = stack.pop();
            const a = stack.pop();
            
            switch (token) {
                case '+': stack.push(a + b); break;
                case '-': stack.push(a - b); break;
                case '*': stack.push(a * b); break;
                case '/': stack.push(a / b); break;
            }
        }
    }
    
    return stack[0];
}

// 사용 예시
console.log(evaluatePostfix("2 3 4 * +")); // 14
```